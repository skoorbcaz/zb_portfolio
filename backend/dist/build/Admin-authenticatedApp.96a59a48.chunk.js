"use strict";(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([[801],{94369:(z,S,a)=>{a.r(S),a.d(S,{default:()=>an});var e=a(67294),i=a(68547),D=a(23724),y=a(27361),Y=a.n(y);const b={i8:"4.5.3"};var P=a(78143),f=a(49656),C=a(37424),M=a(99168),B=a(61080),W=a(38914),N=a.n(W),j=a(64729),T=a(27821),Q=a(45697),s=a.n(Q),m=a(97132),E=a(44034),v=a(25896),O=a(46273),A=a(35961),X=a(7681),Ne=a(12028),re=a(29728),Ue=a(70968);const We=(0,T.default)(O.k)`
  position: fixed;
  z-index: 4;
  inset: 0;
  /* this is theme.colors.neutral800 with opacity */
  background: ${({theme:t})=>`${t.colors.neutral800}1F`};
`,ie=({onClose:t,onSkip:n,children:o,hideSkip:r})=>{const{formatMessage:u}=(0,m.useIntl)();return e.createElement(E.h,null,e.createElement(We,{onClick:t,padding:8,justifyContent:"center"},e.createElement(v.i,{onEscape:t},e.createElement(X.K,{background:"neutral0",width:(0,i.pxToRem)(660),shadow:"popupShadow",hasRadius:!0,padding:4,spacing:8,role:"dialog","aria-modal":!0,onClick:c=>c.stopPropagation()},e.createElement(O.k,{justifyContent:"flex-end"},e.createElement(Ne.h,{onClick:t,"aria-label":u({id:"app.utils.close-label",defaultMessage:"Close"}),icon:e.createElement(Ue.default,null)})),e.createElement(A.x,{paddingLeft:7,paddingRight:7,paddingBottom:r?8:0},o),!r&&e.createElement(O.k,{justifyContent:"flex-end"},e.createElement(re.z,{variant:"tertiary",onClick:n},u({id:"app.components.GuidedTour.skip",defaultMessage:"Skip the tour"})))))))};ie.propTypes={children:s().node.isRequired,onClose:s().func.isRequired,onSkip:s().func.isRequired,hideSkip:s().bool.isRequired};const je=ie;var le=a(18172);const ce={stepContent:null,sectionIndex:null,stepIndex:null,hasSectionAfter:!1,hasStepAfter:!1},ke=(t=ce,n)=>(0,le.default)(t,o=>{switch(n.type){case"UPDATE_MODAL":{o.stepContent=n.content,o.sectionIndex=n.newSectionIndex,o.stepIndex=n.newStepIndex,o.hasSectionAfter=n.newHasSectionAfter,o.hasStepAfter=n.newHasStepAfter;break}default:return o}});var I=a(72735),de=a(37323);const Fe=T.default.li`
  list-style: disc;
`,ue=({id:t,defaultMessage:n})=>{const{formatMessage:o}=(0,m.useIntl)();return e.createElement(X.K,{spacing:4,paddingBottom:6},o({id:t,defaultMessage:n},{documentationLink:r=>e.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://docs.strapi.io/developer-docs/latest/developer-resources/database-apis-reference/rest-api.html#api-parameters"},r),b:r=>e.createElement(I.Z,{fontWeight:"semiBold"},r),p:r=>e.createElement(I.Z,null,r),light:r=>e.createElement(I.Z,{textColor:"neutral600"},r),ul:r=>e.createElement(A.x,{paddingLeft:6},e.createElement("ul",null,r)),li:r=>e.createElement(Fe,null,r)}))};ue.propTypes={id:s().string.isRequired,defaultMessage:s().string.isRequired};const $e=ue;var J=a(89285),Ke=a(96392);const q=({number:t,last:n,type:o})=>e.createElement(A.x,{paddingTop:3,paddingBottom:n?0:3},e.createElement(Ke.Z,{number:t,type:o}));q.defaultProps={number:void 0,last:!1,type:""},q.propTypes={number:s().number,last:s().bool,type:s().string};const pe=q;var k=a(99872),Ze=Object.defineProperty,me=Object.getOwnPropertySymbols,Ve=Object.prototype.hasOwnProperty,ze=Object.prototype.propertyIsEnumerable,ge=(t,n,o)=>n in t?Ze(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,He=(t,n)=>{for(var o in n||(n={}))Ve.call(n,o)&&ge(t,o,n[o]);if(me)for(var o of me(n))ze.call(n,o)&&ge(t,o,n[o]);return t};const _=({title:t,content:n,cta:o,onCtaClick:r,sectionIndex:u,stepIndex:c,hasSectionAfter:g})=>{const{formatMessage:h}=(0,m.useIntl)(),p=u>0,d=c>0,x=u+1;return e.createElement(e.Fragment,null,e.createElement(O.k,{alignItems:"stretch"},e.createElement(O.k,{marginRight:8,justifyContent:"center",minWidth:(0,i.pxToRem)(30)},p&&e.createElement(J.Z,{type:k.hx,minHeight:(0,i.pxToRem)(24)})),e.createElement(I.Z,{variant:"sigma",textColor:"primary600"},h({id:"app.components.GuidedTour.title",defaultMessage:"3 steps to get started"}))),e.createElement(O.k,null,e.createElement(O.k,{marginRight:8,minWidth:(0,i.pxToRem)(30)},e.createElement(pe,{number:u+1,type:d?k.hx:k.lW})),e.createElement(I.Z,{variant:"alpha",fontWeight:"bold",textColor:"neutral800",as:"h3",id:"title"},h(t))),e.createElement(O.k,{alignItems:"stretch"},e.createElement(O.k,{marginRight:8,direction:"column",justifyContent:"center",minWidth:(0,i.pxToRem)(30)},g&&e.createElement(e.Fragment,null,e.createElement(J.Z,{type:k.hx}),d&&e.createElement(pe,{number:x+1,type:k.lW,last:!0}))),e.createElement(A.x,null,e.createElement($e,He({},n)),o&&(o.target?e.createElement(i.LinkButton,{endIcon:e.createElement(de.Z,null),onClick:r,to:o.target},h(o.title)):e.createElement(re.z,{endIcon:e.createElement(de.Z,null),onClick:r},h(o.title))))),d&&g&&e.createElement(A.x,{paddingTop:3},e.createElement(O.k,{marginRight:8,justifyContent:"center",width:(0,i.pxToRem)(30)},e.createElement(J.Z,{type:k.hx,minHeight:(0,i.pxToRem)(24)}))))};_.defaultProps={currentStep:null,cta:void 0},_.propTypes={sectionIndex:s().number.isRequired,stepIndex:s().number.isRequired,hasSectionAfter:s().bool.isRequired,content:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired,cta:s().shape({target:s().string,title:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired})}),currentStep:s().string,onCtaClick:s().func.isRequired,title:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired};const we=_;var Ye=Object.defineProperty,Qe=Object.defineProperties,Xe=Object.getOwnPropertyDescriptors,fe=Object.getOwnPropertySymbols,Je=Object.prototype.hasOwnProperty,qe=Object.prototype.propertyIsEnumerable,he=(t,n,o)=>n in t?Ye(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,_e=(t,n)=>{for(var o in n||(n={}))Je.call(n,o)&&he(t,o,n[o]);if(fe)for(var o of fe(n))qe.call(n,o)&&he(t,o,n[o]);return t},et=(t,n)=>Qe(t,Xe(n));const tt=()=>{const{currentStep:t,guidedTourState:n,setCurrentStep:o,setStepState:r,isGuidedTourVisible:u,setSkipped:c}=(0,i.useGuidedTour)(),[g,h]=(0,e.useState)(t),[{stepContent:p,sectionIndex:d,stepIndex:x,hasSectionAfter:F,hasStepAfter:V},G]=(0,e.useReducer)(ke,ce),{trackUsage:$}=(0,i.useTracking)();(0,e.useEffect)(()=>{if(!t){h(!1);return}const[L]=N()(n,t);h(!L&&u)},[t,n,u]),(0,e.useEffect)(()=>{if(t){const[L]=N()(j.Z,t),l=Object.keys(n),[R,Z]=t.split("."),w=l.indexOf(R),oe=Object.keys(n[R]).indexOf(Z),se=w<l.length-1,on=oe<Object.keys(n[R]).length-1;G({type:"UPDATE_MODAL",content:L,newSectionIndex:w,newStepIndex:oe,newHasSectionAfter:se,newHasStepAfter:on})}},[t,n]);const K=()=>{r(t,!0),$(p.trackingEvent),o(null)},U=()=>{c(!0),o(null),$("didSkipGuidedtour")};return g&&p?e.createElement(je,{hideSkip:!V&&!F,onSkip:U,onClose:K},e.createElement(we,et(_e({},p),{onCtaClick:K,currentStep:t,sectionIndex:d,stepIndex:x,hasSectionAfter:F}))):null};var nt=a(70004),at=a(64330),ot=a(37907),st=a(98994),ee=a(38040),Ee=a(51974),rt=a(37227),it=a(56691),lt=a(42384),ct=a(90690),dt=a(87569);const ut=(0,T.default)(A.x)`
  width: ${150/16}rem;
  position: absolute;
  bottom: ${({theme:t})=>t.spaces[9]};
  left: ${({theme:t})=>t.spaces[5]};
`,ve=(0,T.default)(f.NavLink)`
  display: flex;
  justify-content: space-between;
  align-items: center;
  text-decoration: none;
  padding: ${({theme:t})=>`${t.spaces[2]} ${t.spaces[4]}`};
  border-radius: ${({theme:t})=>t.spaces[1]};

  &:hover {
    background: ${({theme:t,logout:n})=>n?t.colors.danger100:t.colors.primary100};
    text-decoration: none;
  }

  svg {
    path {
      fill: ${({theme:t})=>t.colors.danger600};
    }
  }
`,ye=({generalSectionLinks:t,pluginsSectionLinks:n})=>{const o=(0,e.useRef)(),[r,u]=(0,e.useState)(!1),{logos:{menu:c}}=(0,dt.Z)(),[g,h]=(0,i.usePersistentState)("navbar-condensed",!1),{userDisplayName:p}=(0,i.useAppInfos)(),{formatMessage:d}=(0,m.useIntl)(),{trackUsage:x}=(0,i.useTracking)(),{pathname:F}=(0,f.useLocation)(),V=p.split(" ").map(l=>l.substring(0,1)).join("").substring(0,2),G=()=>u(l=>!l),$=()=>{i.auth.clearAppStorage(),G()},K=l=>{var R,Z;!l.currentTarget.contains(l.relatedTarget)&&((Z=(R=l.relatedTarget)==null?void 0:R.parentElement)==null?void 0:Z.id)!=="main-nav-user-button"&&u(!1)},U=(l=null)=>{x("willNavigate",{from:F,to:l})},L=d({id:"app.components.LeftMenu.navbrand.title",defaultMessage:"Strapi Dashboard"});return e.createElement(at.$,{condensed:g},e.createElement(ot.D,{as:f.NavLink,workplace:d({id:"app.components.LeftMenu.navbrand.workplace",defaultMessage:"Workplace"}),title:L,icon:e.createElement("img",{src:c.custom||c.default,alt:d({id:"app.components.LeftMenu.logo.alt",defaultMessage:"Application logo"})})}),e.createElement(nt.i,null),e.createElement(st._,null,e.createElement(ee.O,{as:f.NavLink,to:"/content-manager",icon:e.createElement(lt.Z,null),onClick:()=>U("/content-manager")},d({id:"global.content-manager",defaultMessage:"Content manager"})),n.length>0?e.createElement(Ee.y,{label:d({id:"app.components.LeftMenu.plugins",defaultMessage:"Plugins"})},n.map(l=>{const R=l.icon;return e.createElement(ee.O,{as:f.NavLink,to:l.to,key:l.to,icon:e.createElement(R,null),onClick:()=>U(l.to)},d(l.intlLabel))})):null,t.length>0?e.createElement(Ee.y,{label:d({id:"app.components.LeftMenu.general",defaultMessage:"General"})},t.map(l=>{const R=l.icon;return e.createElement(ee.O,{as:f.NavLink,badgeContent:l.notificationsCount>0&&l.notificationsCount.toString()||void 0,to:l.to,key:l.to,icon:e.createElement(R,null),onClick:()=>U(l.to)},d(l.intlLabel))})):null),e.createElement(rt.r,{id:"main-nav-user-button",ref:o,onClick:G,initials:V},p),r&&e.createElement(ut,{onBlur:K,padding:1,shadow:"tableShadow",background:"neutral0",hasRadius:!0},e.createElement(v.i,{onEscape:G},e.createElement(X.K,{spacing:0},e.createElement(ve,{tabIndex:0,onClick:G,to:"/me"},e.createElement(I.Z,null,d({id:"global.profile",defaultMessage:"Profile"}))),e.createElement(ve,{tabIndex:0,onClick:$,logout:"logout",to:"/auth/login"},e.createElement(I.Z,{textColor:"danger600"},d({id:"app.components.LeftMenu.logout",defaultMessage:"Logout"})),e.createElement(ct.Z,null))))),e.createElement(it.w,{onClick:()=>h(l=>!l)},d(g?{id:"app.components.LeftMenu.expand",defaultMessage:"Expand the navbar"}:{id:"app.components.LeftMenu.collapse",defaultMessage:"Collapse the navbar"})))};ye.propTypes={generalSectionLinks:s().array.isRequired,pluginsSectionLinks:s().array.isRequired};const pt=ye;var mt=a(727);const gt=(0,T.default)(A.x)`
  flex: 1;
`,Te=({children:t,sideNav:n})=>{const{formatMessage:o}=(0,m.useIntl)();return e.createElement(A.x,{background:"neutral100"},e.createElement(mt.z,null,o({id:"skipToContent",defaultMessage:"Skip to content"})),e.createElement(O.k,{alignItems:"flex-start"},n,e.createElement(gt,null,t)))};Te.propTypes={children:s().node.isRequired,sideNav:s().node.isRequired};const ft=Te;var Pe=a(8610),ht=a(36657),te=a(70982),Ce=a(51436);const Et=(0,T.default)(A.x)`
  position: fixed;
  bottom: ${({theme:t})=>t.spaces[2]};
  right: ${({theme:t})=>t.spaces[2]};
`,vt=T.default.button`
  width: ${({theme:t})=>t.spaces[8]};
  height: ${({theme:t})=>t.spaces[8]};
  background: ${({theme:t})=>t.colors.primary600};
  box-shadow: ${({theme:t})=>t.shadows.tableShadow};
  border-radius: 50%;
  svg {
    color: ${({theme:t})=>t.colors.buttonNeutral0};
  }
`,yt=(0,T.default)(A.x)`
  position: absolute;
  bottom: ${({theme:t})=>`${t.spaces[9]}`};
  right: 0;
  width: ${200/16}rem;
`,Tt=T.default.a`
  display: flex;
  align-items: center;
  text-decoration: none;
  padding: ${({theme:t})=>t.spaces[2]};
  padding-left: ${({theme:t})=>t.spaces[5]};

  svg {
    color: ${({theme:t})=>t.colors.neutral600};
    margin-right: ${({theme:t})=>t.spaces[2]};
  }

  &:hover {
    background: ${({theme:t})=>t.colors.neutral100};
    color: ${({theme:t})=>t.colors.neutral500};

    svg {
      color: ${({theme:t})=>t.colors.neutral700};
    }

    ${[I.Z]} {
      color: ${({theme:t})=>t.colors.neutral700};
    }
  }

  ${[I.Z]} {
    color: ${({theme:t})=>t.colors.neutral600};
  }
`,Pt=()=>{const[t,n]=(0,e.useState)(!1),{formatMessage:o}=(0,m.useIntl)(),{showTutorials:r}=(0,P.um)();if(!r)return null;const u=[{icon:"book",label:o({id:"global.documentation",defaultMessage:"Documentation"}),destination:"https://docs.strapi.io"},{icon:"file",label:o({id:"app.static.links.cheatsheet",defaultMessage:"CheatSheet"}),destination:"https://strapi-showcase.s3-us-west-2.amazonaws.com/CheatSheet.pdf"}],c=()=>{n(g=>!g)};return e.createElement(Et,{as:"aside"},e.createElement(vt,{id:"onboarding","aria-label":o({id:"app.components.Onboarding.help.button",defaultMessage:"Help button"}),onClick:c},!t&&e.createElement(te.G,{icon:Ce.Psp}),t&&e.createElement(te.G,{icon:Ce.NBC})),t&&e.createElement(v.i,{onEscape:c},e.createElement(yt,{background:"neutral0",hasRadius:!0,shadow:"tableShadow",paddingBottom:2,paddingTop:2},u.map(g=>e.createElement(Tt,{key:g.label,rel:"nofollow noreferrer noopener",target:"_blank",href:g.destination},e.createElement(te.G,{icon:g.icon}),e.createElement(I.Z,null,g.label))))))},Ct=(0,e.lazy)(()=>Promise.all([a.e(5926),a.e(118),a.e(6593),a.e(994)]).then(a.bind(a,4085))),Mt=(0,e.lazy)(()=>a.e(3981).then(a.bind(a,11063))),Ot=(0,e.lazy)(()=>a.e(3677).then(a.bind(a,14928))),Rt=(0,e.lazy)(()=>Promise.all([a.e(5926),a.e(5516)]).then(a.bind(a,82679))),Me=(0,e.lazy)(()=>Promise.resolve().then(a.bind(a,23330))),St=(0,e.lazy)(()=>a.e(9501).then(a.bind(a,17502))),At=(0,e.lazy)(()=>a.e(9497).then(a.bind(a,50166))),Oe=(0,e.lazy)(()=>Promise.all([a.e(5926),a.e(1534),a.e(5895)]).then(a.bind(a,93500))),It=()=>{const{trackUsage:t}=(0,i.useTracking)(),n=(0,C.useDispatch)(),o=(0,C.useSelector)(r=>r.admin_app.status);(0,e.useEffect)(()=>{o==="init"&&(t("didAccessAuthenticatedAdministration"),n({type:ht.e}))},[o])},xt=()=>{It();const{isLoading:t,generalSectionLinks:n,pluginsSectionLinks:o}=(0,P.H9)(),{menu:r}=(0,i.useStrapiApp)(),u=(0,e.useMemo)(()=>r.filter(c=>c.Component).map(({to:c,Component:g,exact:h})=>(0,Pe.ot)(g,c,h)),[r]);return t?e.createElement(i.LoadingIndicatorPage,null):e.createElement(M.DndProvider,{backend:B.PD},e.createElement(ft,{sideNav:e.createElement(pt,{generalSectionLinks:n,pluginsSectionLinks:o})},e.createElement(e.Suspense,{fallback:e.createElement(i.LoadingIndicatorPage,null)},e.createElement(f.Switch,null,e.createElement(f.Route,{path:"/",component:Mt,exact:!0}),e.createElement(f.Route,{path:"/me",component:At,exact:!0}),e.createElement(f.Route,{path:"/content-manager",component:Ct}),u,e.createElement(f.Route,{path:"/settings/:settingId",component:Oe}),e.createElement(f.Route,{path:"/settings",component:Oe,exact:!0}),e.createElement(f.Route,{path:"/marketplace"},e.createElement(Rt,null)),e.createElement(f.Route,{path:"/list-plugins",exact:!0},e.createElement(Ot,null)),e.createElement(f.Route,{path:"/404",component:Me}),e.createElement(f.Route,{path:"/500",component:St}),e.createElement(f.Route,{path:"",component:Me}))),e.createElement(tt,null),e.createElement(Pt,null)))};var Lt=Object.defineProperty,Re=Object.getOwnPropertySymbols,Dt=Object.prototype.hasOwnProperty,bt=Object.prototype.propertyIsEnumerable,Se=(t,n,o)=>n in t?Lt(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,Bt=(t,n)=>{for(var o in n||(n={}))Dt.call(n,o)&&Se(t,o,n[o]);if(Re)for(var o of Re(n))bt.call(n,o)&&Se(t,o,n[o]);return t};const Gt=t=>({plugins:Object.keys(t).reduce((n,o)=>(n[o]=Bt({},t[o]),n),{})});var Nt=a(36968),Ut=a.n(Nt);const Ae={plugins:null},Wt=(t=Ae,n)=>(0,le.default)(t,o=>{switch(n.type){case"SET_PLUGIN_READY":{Ut()(o,["plugins",n.pluginId,"isReady"],!0);break}default:return o}}),jt=()=>{const{plugins:t}=(0,i.useStrapiApp)(),[{plugins:n},o]=(0,e.useReducer)(Wt,Ae,()=>Gt(t)),r=(0,e.useRef)(c=>{o({type:"SET_PLUGIN_READY",pluginId:c})});if(Object.keys(n).some(c=>n[c].isReady===!1)){const c=Object.keys(n).reduce((g,h)=>{const p=n[h].initializer;if(p){const d=n[h].pluginId;g.push(e.createElement(p,{key:d,setPlugin:r.current}))}return g},[]);return e.createElement(e.Fragment,null,c,e.createElement(i.LoadingIndicatorPage,null))}return e.createElement(xt,null)};var Ie=a(28344);const kt=()=>({type:Ie.l}),Ft=t=>({type:Ie.m,permissions:t}),xe=({children:t,permissions:n,refetchPermissions:o})=>{const{allPermissions:r}=(0,C.useSelector)(c=>c.rbacProvider),u=(0,C.useDispatch)();return(0,e.useEffect)(()=>(u(Ft(n)),()=>{u(kt())}),[n,u]),r?e.createElement(i.RBACProviderContext.Provider,{value:{allPermissions:r,refetchPermissions:o}},t):e.createElement(i.LoadingIndicatorPage,null)};xe.propTypes={children:s().element.isRequired,permissions:s().array.isRequired,refetchPermissions:s().func.isRequired};const $t=xe;var Kt=a(9669),Zt=a.n(Kt),Vt=a(81249),ne=a.n(Vt);const Le=(t,n)=>!ne().valid(t)||!ne().valid(n)?!1:ne().lt(t,n);var ae=a(23998),H=(t,n,o)=>new Promise((r,u)=>{var c=p=>{try{h(o.next(p))}catch(d){u(d)}},g=p=>{try{h(o.throw(p))}catch(d){u(d)}},h=p=>p.done?r(p.value):Promise.resolve(p.value).then(c,g);h((o=o.apply(t,n)).next())});const De=b.i8,zt=!JSON.parse(localStorage.getItem("STRAPI_UPDATE_NOTIF")),Ht=t=>H(void 0,null,function*(){try{const{data:{tag_name:n}}=yield Zt().get("https://api.github.com/repos/strapi/strapi/releases/latest");return Le(De,n)&&zt&&t({type:"info",message:{id:"notification.version.update.message"},link:{url:`https://github.com/strapi/strapi/releases/tag/${n}`,label:{id:"global.see-more"}},blockTransition:!0,onClose:()=>localStorage.setItem("STRAPI_UPDATE_NOTIF",!0)}),n}catch(n){return De}}),wt=()=>H(void 0,null,function*(){try{const{data:t,headers:n}=yield ae.be.get("/admin/information");if(!n["content-type"].includes("application/json"))throw new Error("Not found");return t.data}catch(t){throw new Error(t)}}),Yt=()=>H(void 0,null,function*(){try{const{data:t,headers:n}=yield ae.be.get("/admin/users/me/permissions");if(!n["content-type"].includes("application/json"))throw new Error("Not found");return t.data}catch(t){throw new Error(t)}}),Qt=()=>H(void 0,null,function*(){try{const{data:{data:{roles:t}}}=yield ae.be.get("/admin/users/me");return t}catch(t){throw new Error(t)}});var Xt=Object.defineProperty,Jt=Object.defineProperties,qt=Object.getOwnPropertyDescriptors,be=Object.getOwnPropertySymbols,_t=Object.prototype.hasOwnProperty,en=Object.prototype.propertyIsEnumerable,Be=(t,n,o)=>n in t?Xt(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,tn=(t,n)=>{for(var o in n||(n={}))_t.call(n,o)&&Be(t,o,n[o]);if(be)for(var o of be(n))en.call(n,o)&&Be(t,o,n[o]);return t},nn=(t,n)=>Jt(t,qt(n));const Ge=b.i8,an=()=>{const{setGuidedTourVisibility:t}=(0,i.useGuidedTour)(),n=(0,i.useNotification)(),o=(0,e.useRef)(t),r=i.auth.getUserInfo(),u=Y()(r,"username")||(0,Pe.Pp)(r.firstname,r.lastname),[c,g]=(0,e.useState)(u),{showReleaseNotification:h}=(0,P.um)(),[{data:p,status:d},{data:x,isLoading:F},{data:V,status:G,refetch:$,isFetched:K,isFetching:U},{data:L}]=(0,D.useQueries)([{queryKey:"app-infos",queryFn:wt},{queryKey:"strapi-release",queryFn:()=>Ht(n),enabled:h,initialData:Ge},{queryKey:"admin-users-permission",queryFn:Yt,initialData:[]},{queryKey:"user-roles",queryFn:Qt}]),l=(0,e.useMemo)(()=>Le(Ge,x),[x]);(0,e.useEffect)(()=>{L&&L.find(({code:se})=>se==="strapi-super-admin")&&(p==null?void 0:p.autoReload)&&o.current(!0)},[L,p]);const Z=F||(U&&K||d==="loading"||G==="loading"),w=(0,e.useMemo)(()=>nn(tn({},p),{latestStrapiReleaseTag:x,setUserDisplayName:g,shouldUpdateStrapi:l,userDisplayName:c}),[p,x,l,c]);return Z?e.createElement(i.LoadingIndicatorPage,null):d==="error"?e.createElement("div",null,"error..."):e.createElement(i.AppInfosContext.Provider,{value:w},e.createElement($t,{permissions:V,refetchPermissions:$},e.createElement(jt,null)))}},89285:(z,S,a)=>{a.d(S,{Z:()=>Q});var e=a(67294),i=a(45697),D=a.n(i),y=a(68547),Y=a.n(y),b=a(35961),P=a(99872),f=Object.defineProperty,C=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable,W=(s,m,E)=>m in s?f(s,m,{enumerable:!0,configurable:!0,writable:!0,value:E}):s[m]=E,N=(s,m)=>{for(var E in m||(m={}))M.call(m,E)&&W(s,E,m[E]);if(C)for(var E of C(m))B.call(m,E)&&W(s,E,m[E]);return s},j=(s,m)=>{var E={};for(var v in s)M.call(s,v)&&m.indexOf(v)<0&&(E[v]=s[v]);if(s!=null&&C)for(var v of C(s))m.indexOf(v)<0&&B.call(s,v)&&(E[v]=s[v]);return E};const T=s=>{var m=s,{type:E}=m,v=j(m,["type"]);return e.createElement(b.x,N({width:(0,y.pxToRem)(2),height:"100%",background:E===P.VM?"neutral300":"primary500",hasRadius:!0},v))};T.defaultProps={type:P.VM},T.propTypes={type:D().oneOf([P.lW,P.hx,P.VM])};const Q=T},96392:(z,S,a)=>{a.d(S,{Z:()=>W});var e=a(67294),i=a(45697),D=a.n(i),y=a(68547),Y=a.n(y),b=a(46273),P=a(72735),f=a(52624),C=a(85018),M=a(99872);const B=({type:N,number:j})=>N===M.hx?e.createElement(b.k,{background:"primary600",padding:2,borderRadius:"50%",width:(0,y.pxToRem)(30),height:(0,y.pxToRem)(30),justifyContent:"center"},e.createElement(f.J,{as:C.Z,"aria-hidden":!0,width:(0,y.pxToRem)(16),color:"neutral0"})):N===M.lW?e.createElement(b.k,{background:"primary600",padding:2,borderRadius:"50%",width:(0,y.pxToRem)(30),height:(0,y.pxToRem)(30),justifyContent:"center"},e.createElement(P.Z,{fontWeight:"semiBold",textColor:"neutral0"},j)):e.createElement(b.k,{borderColor:"neutral500",borderWidth:"1px",borderStyle:"solid",padding:2,borderRadius:"50%",width:(0,y.pxToRem)(30),height:(0,y.pxToRem)(30),justifyContent:"center"},e.createElement(P.Z,{fontWeight:"semiBold",textColor:"neutral600"},j));B.defaultProps={number:void 0,type:M.VM},B.propTypes={number:D().number,type:D().oneOf([M.lW,M.hx,M.VM])};const W=B},99872:(z,S,a)=>{a.d(S,{VM:()=>D,hx:()=>i,lW:()=>e});const e="isActive",i="isDone",D="isNotDone"},64729:(z,S,a)=>{a.d(S,{Z:()=>i});const i={contentTypeBuilder:{home:{title:{id:"app.components.GuidedTour.home.CTB.title",defaultMessage:"\u{1F9E0} Build the content structure"},cta:{title:{id:"app.components.GuidedTour.home.CTB.cta.title",defaultMessage:"Go to the Content type Builder"},type:"REDIRECT",target:"/plugins/content-type-builder"},trackingEvent:"didClickGuidedTourHomepageContentTypeBuilder"},create:{title:{id:"app.components.GuidedTour.CTB.create.title",defaultMessage:"\u{1F9E0} Create a first Collection type"},content:{id:"app.components.GuidedTour.CTB.create.content",defaultMessage:"<p>Collection types help you manage several entries, Single types are suitable to manage only one entry.</p> <p>Ex: For a Blog website, Articles would be a Collection type whereas a Homepage would be a Single type.</p>"},cta:{title:{id:"app.components.GuidedTour.CTB.create.cta.title",defaultMessage:"Build a Collection type"},type:"CLOSE"},trackingEvent:"didClickGuidedTourStep1CollectionType"},success:{title:{id:"app.components.GuidedTour.CTB.success.title",defaultMessage:"Step 1: Completed \u2705"},content:{id:"app.components.GuidedTour.CTB.success.content",defaultMessage:"<p>Good going!</p><b>\u26A1\uFE0F What would you like to share with the world?</b>"},cta:{title:{id:"app.components.GuidedTour.create-content",defaultMessage:"Create content"},type:"REDIRECT",target:"/content-manager"},trackingEvent:"didCreateGuidedTourCollectionType"}},contentManager:{home:{title:{id:"app.components.GuidedTour.home.CM.title",defaultMessage:"\u26A1\uFE0F What would you like to share with the world?"},cta:{title:{id:"app.components.GuidedTour.create-content",defaultMessage:"Create content"},type:"REDIRECT",target:"/content-manager"},trackingEvent:"didClickGuidedTourHomepageContentManager"},create:{title:{id:"app.components.GuidedTour.CM.create.title",defaultMessage:"\u26A1\uFE0F Create content"},content:{id:"app.components.GuidedTour.CM.create.content",defaultMessage:"<p>Create and manage all the content here in the Content Manager.</p><p>Ex: Taking the Blog website example further, one can write an Article, save and publish it as they like.</p><p>\u{1F4A1} Quick tip - Don't forget to hit publish on the content you create.</p>"},cta:{title:{id:"app.components.GuidedTour.create-content",defaultMessage:"Create content"},type:"CLOSE"},trackingEvent:"didClickGuidedTourStep2ContentManager"},success:{title:{id:"app.components.GuidedTour.CM.success.title",defaultMessage:"Step 2: Completed \u2705"},content:{id:"app.components.GuidedTour.CM.success.content",defaultMessage:"<p>Awesome, one last step to go!</p><b>\u{1F680}  See content in action</b>"},cta:{title:{id:"app.components.GuidedTour.CM.success.cta.title",defaultMessage:"Test the API"},type:"REDIRECT",target:"/settings/api-tokens"},trackingEvent:"didCreateGuidedTourEntry"}},apiTokens:{home:{title:{id:"app.components.GuidedTour.apiTokens.create.title",defaultMessage:"\u{1F680} See content in action"},cta:{title:{id:"app.components.GuidedTour.home.apiTokens.cta.title",defaultMessage:"Test the API"},type:"REDIRECT",target:"/settings/api-tokens"},trackingEvent:"didClickGuidedTourHomepageApiTokens"},create:{title:{id:"app.components.GuidedTour.apiTokens.create.title",defaultMessage:"\u{1F680} See content in action"},content:{id:"app.components.GuidedTour.apiTokens.create.content",defaultMessage:"<p>Generate an authentication token here and retrieve the content you just created.</p>"},cta:{title:{id:"app.components.GuidedTour.apiTokens.create.cta.title",defaultMessage:"Generate an API Token"},type:"CLOSE"},trackingEvent:"didClickGuidedTourStep3ApiTokens"},success:{title:{id:"app.components.GuidedTour.apiTokens.success.title",defaultMessage:"Step 3: Completed \u2705"},content:{id:"app.components.GuidedTour.apiTokens.success.content",defaultMessage:"<p>See content in action by making an HTTP request:</p><ul><li><p>To this URL: <light>https://'<'YOUR_DOMAIN'>'/api/'<'YOUR_CT'>'</light></p></li><li><p>With the header: <light>Authorization: bearer '<'YOUR_API_TOKEN'>'</light></p></li></ul><p>For more ways to interact with content, see the <documentationLink>documentation</documentationLink>.</p>"},trackingEvent:"didGenerateGuidedTourApiTokens"}}}}}]);
